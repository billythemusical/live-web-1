<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>append on click test</title>
    <style>
        html {
            cursor: pointer;
        }
    </style>
</head>

<body>
    <script>
        //////////////////////////* SINE SECTION *//////////////////////////
        //add in var amplitude, frequency, color so that it can make multiple color sine waves
        function plotSine(ctx, xOffset, yOffset, amplitude, frequency, color) {
            var width = ctx.canvas.width;
            var height = ctx.canvas.height;
            // var scale = 120; //not sure where this is used
            ctx.beginPath();
            ctx.lineWidth = 3;
            ctx.strokeStyle = color;

            // ctx.strokeStyle = "rgb(66,44,255)";
            // console.log("Drawing point...");
            // drawPoint(ctx, yOffset+step);

            var x = 0;
            var y = 0;
            var amplitude = amplitude;
            var frequency = frequency;
            // var amplitude = 40;
            // var frequency = 20;

            while (x < width) {
                y = height / 2 + amplitude * Math.sin((x + xOffset) / frequency);
                ctx.lineTo(x, y);
                x++;
                // console.log("x="+x+" y="+y);
            }
            ctx.stroke();
            ctx.save(); //push
            //console.log("Drawing point at y=" + y);
            // drawPoint(ctx, y);
            ctx.stroke();
            ctx.restore(); //pop
        }

        function drawPurple() {
            let canvas = document.getElementById("canvas-purple");
            let context = canvas.getContext("2d");


            //plot sine for purple
            context.save(); //push
            context.clearRect(0, 0, 1024, 500);

            plotSine(context, step, 50, 40, 5, "rgb(148, 3, 252)"); //function plotSine(ctx, xOffset, yOffset,amplitude, frequency, color)

            context.restore(); //pop
            step += 1; //changes the speed, like frame rate
            window.requestAnimationFrame(drawPurple);
        }

        // FUNCTION THAT APPENDS ELE
        function appendElement(event) {
            // Create an element to hold out "o", and some styles
            var element = document.createElement("span"),
                elStyle = {
                    position: "absolute",
                    top: event.clientY + "px",
                    left: event.clientX + "px",
                };

            // Apply styles to the element
            Object.keys(elStyle).forEach(function (property) {
                element.style[property] = elStyle[property];
            });

            // Set the innerHTML of the element, and insert it into the <body>
            element.innerHTML = "o";
            document.body.appendChild(element);
        }

        //////////////////////* LOAD + FUNCTION INIT */////////////////////
        window.addEventListener('load', init);

        function init() {
            
            // APPEND
            // Listen for click events on the <body> element
            let canvas = document.getElementById('drawing-canvas');
            let context = canvas.getContext('2d');

            
            document.addEventListener("click", appendElement);

        }

    </script>

    <canvas id = 'drawing-canvas' style = 'border: 1px solid black'></canvas>


</body>

</html>