<!DOCTYPE html>
<html>

<head>
    <title>Sine Wave</title>
    <script type="text/javascript">

        // coordinate function that calculate the X 
        // coordinate and Y coordinates 

        // function coordinate(event) {

        //     // clientX gives horizontal coordinate 
        //     var x = event.clientX;

        //     // clientY gives vertical coordinates 
        //     var y = event.clientY;
        //     document.getElementById("X").value = x;
        //     document.getElementById("Y").value = y;
        // }

        function mouseLoc(event) {
            let mouseX = event.clientX;
            let mouseY = event.clientY;

            console.log(mouseX, mouseY);

            document.getElementById('mouseLoc').innerHTML = mouseX + ", " + mouseY;
        }

        ///////////////////* SINE SECTION *////////////////////
        //add in var amplitude, frequency, color so that it can make multiple color sine waves
        function plotSine(ctx, xOffset, yOffset, amplitude, frequency, color) {
            var width = ctx.canvas.width;
            var height = ctx.canvas.height;
            // var scale = 120; //not sure where this is used
            ctx.beginPath();
            ctx.lineWidth = 5;
            ctx.lineCap = "round";
            ctx.strokeStyle = color;

            //console.log("yOffset: " + yOffset);

            var x = 10;
            var y = 10;
            var amplitude = amplitude;
            var frequency = frequency;

            while (x < width) {
                y = height / 2 + amplitude * Math.sin((x + xOffset) / frequency);
                ctx.lineTo(x - 5, y);
                x++;
                // console.log("x="+x+" y="+y);
            }
            ctx.stroke();
            ctx.save(); //push
            //console.log("Drawing point at y=" + y);
            ctx.stroke();
            ctx.restore(); //pop
        }

        function drawPurple() {
            let canvas = document.getElementById("canvas-purple");
            let context = canvas.getContext("2d");
            context.clearRect(0, 0, canvas.width, canvas.height);
            context.fillStyle = "blue";

            //plot sine for purple
            context.save(); //push
            context.translate(canvas.width / 2 + canvas.width / 2, 0); //translate 
            context.rotate(Math.PI / 2); // rotate 90 degrees clockwise

            plotSine(context, step, 2, 55, 5, "rgb(148, 3, 252)"); //function plotSine(ctx, xOffset, yOffset,amplitude, frequency, color)

            context.restore(); //pop
            step += 0.02; //changes the speed, like frame rate
            window.requestAnimationFrame(drawPurple);
        }


        ///////////////////* LOAD SECTION *////////////////////
        window.addEventListener('load', init);

        /// FUNCTION INIT //
        function init() {
            window.requestAnimationFrame(drawPurple);

            //find mouse coordinates
            window.addEventListener('click', mouseLoc(event));
        }
        var step = -0.01;

    </script>

    <style>
        #canvas-purple {
            border: 1px solid blue;
            padding: 5vh;
        }
    </style>
</head>

<body>
    <!-- <button id="play-button" type="button">Play</button> -->
    <button id="stop-button" type="button">Stop</button>

    <!--SHOW MOUSE COORDINATES-->
    <p id='mouseLoc'></p>

    <!--PURPLE-->
    <h3>
        <font face="arial"> Purple Oscillating Sine Wave</font>
    </h3>
    <canvas id="canvas-purple" width="200" height="200"></canvas>
</body>

</html>